<div class="admin-panel">
  <main class="main-content">
    <header class="top-bar">
      <div class="header-content">
        <h1>Product Management</h1>
        <div class="header-actions">
          <button mat-raised-button color="primary" (click)="openAddProductForm()">
            <mat-icon>add</mat-icon>
            Add New Product
          </button>
          <button mat-raised-button color="warn" (click)="logout()">
            <mat-icon>logout</mat-icon>
            Logout
          </button>
        </div>
      </div>
    </header>

    <div class="product-grid">
      <mat-card *ngFor="let product of products" class="product-card">
        <div class="image-container">
          <img [src]="'assets' + product.images" [alt]="product.name" class="product-image" />
          <div class="category-badge" [style.background-color]="getCategoryColor(product.category)">
            {{product.category}}
          </div>
        </div>

        <mat-card-content>
          <h3 class="product-name">{{product.name}}</h3>
          <p class="product-price">â‚¹{{product.price}}</p>
        </mat-card-content>

        <mat-card-actions>
          <button mat-stroked-button color="primary" (click)="editProduct(product.id)">
            <mat-icon>edit</mat-icon>
            Edit
          </button>
          <button mat-stroked-button color="warn" (click)="deleteProduct(product.id)">
            <mat-icon>delete</mat-icon>
            Delete
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </main>

  <app-add-product 
    *ngIf="showAddProductForm" 
    (closeModal)="closeAddProductForm()"
  ></app-add-product>

  <app-edit-product
    *ngIf="showEditProductForm"
    [productId]="selectedProductId"
    (closeModal)="closeEditProductForm()"
  ></app-edit-product>
</div>

